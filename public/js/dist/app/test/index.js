define("dist/app/test/index",["$","../../lib/cmp/dialog/confirm-box","../../lib/cmp/dialog/dialog","../../lib/cmp/overlay","../../lib/util/dom/position","../../lib/util/bom/browser","../../lib/util/dom/iframe-shim","../../lib/cmp/widget","../../lib/util/base","../../lib/util/class","../../lib/util/event","../../lib/util/aspect","../../lib/util/attribute","../../lib/cmp/daparser","../../lib/cmp/auto-render","../../lib/cmp/mask","../../lib/util/dom/sticky","../../lib/util/dom/scroll","../../lib/util/dom/wheel","../../lib/cmp/dialog/tpl/dialog","../../lib/cmp/dialog/tpl/button"],function(t){var e=t("$"),i=t("../../lib/cmp/dialog/confirm-box");e(function(){i.alert({title:"hello",width:500,height:400,content:"world"})})}),define("dist/lib/cmp/dialog/confirm-box",["$","./dialog","../overlay","../../util/dom/position","../../util/bom/browser","../../util/dom/iframe-shim","../widget","../../util/base","../../util/class","../../util/event","../../util/aspect","../../util/attribute","../daparser","../auto-render","../mask","../../util/dom/sticky","../../util/dom/scroll","../../util/dom/wheel","./tpl/dialog","./tpl/button"],function(t,e,i){var n=t("$"),r=t("./dialog"),o=t("./tpl/button"),s=0,a={title:"",content:"",width:375,height:275,buttons:[{text:"关闭",className:"btn",action:"close"}]},l=r.extend({attrs:{title:a.title,content:a.content,width:a.width,height:a.height,hasMask:{hideOnClick:!1},buttons:[]},setup:function(){l.superclass.setup.call(this);for(var t=this.get("buttons"),e=[],i=0,n=t.length;n>i;i++){var r=t[i],a="string"==typeof r.action?r.action:"click_"+ ++s;e.push(o.render({className:r.className,action:a,text:r.text})),"close"!==a&&"confirm"!==a&&this.delegateEvents('click [data-action="'+a+'"]',function(t){return function(e){e.preventDefault(),this.trigger(t)}}(a))}this.$("[data-role=buttons]").eq(0).html(e.join(""))},events:{"click [data-action=close]":function(t){t.preventDefault(),this.hide()},"click [data-action=confirm]":function(t){t.preventDefault(),this.trigger("confirm")}},_onChangeContent:function(t){this.$("[data-role=content]").html(t)},_onChangeTitle:function(t){this.$("[data-role=title]").html(t)}});l.alert=function(t){return t=t||{},t=n.extend(!0,{},a,t),1!==t.buttons.length&&(t.buttons=[t.buttons[0]]),new l(t).show().after("hide",function(){this.destroy()})},l.confirm=function(t){return t=t||{},t=n.extend(!0,{buttons:[{text:"确认",className:"btn",action:"confirm"},{text:"取消",className:"btn",action:"close"}]},a,t),t.buttons=t.buttons.slice(0,2),new l(t).show().after("hide",function(){this.destroy()})},l.show=function(t){return t=t||{},t=n.extend({},a,t),new l(t).show().after("hide",function(){this.destroy()})},i.exports=l}),define("dist/lib/cmp/dialog/dialog",["$","../overlay","../../util/dom/position","../../util/bom/browser","../../util/dom/iframe-shim","../widget","../../util/base","../../util/class","../../util/event","../../util/aspect","../../util/attribute","../daparser","../auto-render","../mask","../../util/dom/sticky","../../util/dom/scroll","../../util/dom/wheel","./tpl/dialog"],function(t,e,i){function n(t){null==t.attr("tabindex")&&t.attr("tabindex","-1"),t.css("outline","none").attr("hidefocus","true")}function r(t){var e,i=t[0].contentWindow.document;return i.body.scrollHeight&&i.documentElement.scrollHeight?e=Math.min(i.body.scrollHeight,i.documentElement.scrollHeight):i.documentElement.scrollHeight?e=i.documentElement.scrollHeight:i.body.scrollHeight&&(e=i.body.scrollHeight),e}var o=t("$"),s=t("../overlay"),a=t("../mask"),l=t("../../util/event"),c=t("../../util/dom/sticky"),u=t("../../util/dom/scroll"),h=t("./tpl/dialog"),d=300,f=999,p=s.extend({attrs:{template:h.render(),title:"对话框",content:{value:null,setter:function(t){return this._type=/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(t)?"iframe":"",t}},hasMask:{value:!0,hideOnClick:!1},width:500,height:null,zIndex:f,fixed:!0,autoFit:!0,effect:"none",align:{selfXY:["50%","50%"],baseXY:["50%","50%"]}},events:{"click [data-action=close]":function(){return this.hide(),!1}},parseElement:function(){p.superclass.parseElement.call(this),this.contentElement=this.$('[data-role="content"]'),this.contentElement.css({background:"#fff",height:"100%",zoom:1})},setup:function(){p.superclass.setup.call(this),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),n(this.element),this.set("zIndex",f,{silent:!0}),f+=2,this.get("fixed")!==!1&&c.fix(this.element),u.prevent(this.$(".main").eq(0))},_onRenderVisible:function(t){var e=this.get("effect");t?o.isFunction(e)?e.call(this,this.element):this.element.show():this.element.hide()},show:function(t){if(p.superclass.show.call(this),"iframe"===this._type?(this.get("height")||this.element.height(d),this._showIframe()):this.get("height")&&this.$(".main").height(this.get("height")-this.$(".header").outerHeight()-this.$(".footer").outerHeight()),t)for(var e in t)this.set(e,t[e]);return this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"about:blank"}),this.iframe.remove(),this.iframe=null,this._errCount=0),p.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),clearInterval(this._interval),p.superclass.destroy.call(this)},_onRenderHeader:function(t){this.$(".header")[t?"show":"hide"]()},_onRenderFooter:function(t){this.$(".footer")[t?"show":"hide"]()},_onRenderTitle:function(t){this.$("[data-role=title]").eq(0).html(t)},_onRenderClosable:function(t){this.$("[data-role=close]").eq(0)[t===!1?"hide":"show"]()},_onRenderContent:function(t){if("iframe"!==this._type){var e;try{e=o(t)}catch(i){e=[]}e[0]?this.contentElement.empty().append(e):this.contentElement.empty().html(t)}},_setupMask:function(){var t=this,e=function(){t.hide()};this.before("show",function(){var t=parseInt(this.get("zIndex"),10),i=this.get("hasMask");i&&(a.set("zIndex",t-1).show(),i.hideOnClick&&a.element.one("click",e))}),this.after("hide",function(){var t=this.get("hasMask");t&&(a.hide(),t.hideOnClick&&a.element.off("click",e))})},_setupFocus:function(){this.after("show",function(){this.element.focus()})},_setupKeyEvents:function(){this.delegateEvents(o(document),"keyup",function(t){27===t.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var t=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){t.get("visible")&&(t.get("autoFit")&&(clearInterval(t._interval),t._interval=setInterval(function(){t._syncHeight()},300)),t._syncHeight(),t.trigger("complete:show"))})},_fixUrl:function(){var t=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return t.shift(),t[1]=(t[1]&&"?"!==t[1]?t[1]+"&":"?")+"t="+(new Date).getTime(),t.join("")},_createIframe:function(){var t=this;this.contentElement.empty(),this.iframe=o("<iframe>",{src:"about:blank",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),this._errCount=0,l.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){t.hide()})},_syncHeight:function(){var t;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{t=r(this.iframe)+"px"}catch(e){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(t=d,clearInterval(this._interval),delete this._interval)}this.element.css("height",t),this._setPosition(),this.element[0].className=this.element[0].className}}});i.exports=p}),define("dist/lib/cmp/overlay",["$","../util/dom/position","../util/bom/browser","../util/dom/iframe-shim","./widget","../util/base","../util/class","../util/event","../util/aspect","../util/attribute","./daparser","./auto-render"],function(t,e,i){function n(t){return s.contains(document.documentElement,t)}function r(t){s(u.blurOverlays).each(function(e,i){if(i&&i.get("visible")){for(var n=0;i._relativeElements.length>n;n++){var r=s(i._relativeElements[n])[0];if(r===t.target||s.contains(r,t.target))return}i.hide()}})}function o(t,e){for(var i=0;e.length>i;i++)if(t===e[i])return e.splice(i,1),e}var s=t("$"),a=t("../util/dom/position"),l=t("../util/dom/iframe-shim"),c=t("./widget"),u=c.extend({attrs:{width:null,height:null,zIndex:99,visible:!1,repositionOnResize:!0,align:{selfXY:[0,0],baseElement:a.VIEWPORT,baseXY:[0,0]},parentNode:document.body},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},setup:function(){var t=this;this._setupShim(),this.get("repositionOnResize")&&this._setupResize(),this.after("show",function(){t._setPosition()})},destroy:function(){return o(this,u.allOverlays),o(this,u.blurOverlays),u.superclass.destroy.call(this)},_setPosition:function(t){if(n(this.element[0])&&(t||(t=this.get("align")),t)){var e="none"===this.element.css("display");return e&&this.element.css({visibility:"hidden",display:"block"}),a.pin({element:this.element,x:t.selfXY[0],y:t.selfXY[1]},{element:t.baseElement,x:t.baseXY[0],y:t.baseXY[1]}),e&&this.element.css({visibility:"",display:"none"}),this}},_setupShim:function(){var t=new l(this.element);this.after("hide _setPosition",t.sync,t);var e=["width","height"];for(var i in e)e.hasOwnProperty(i)&&this.on("change:"+i,t.sync,t);this.before("destroy",t.destroy,t)},_setupResize:function(){u.allOverlays.push(this)},_blurHide:function(t){t=s.makeArray(t),t.push(this.element),this._relativeElements=t,u.blurOverlays.push(this)},_onRenderWidth:function(t){this.element.css("width",t)},_onRenderHeight:function(t){this.element.css("height",t)},_onRenderZIndex:function(t){this.element.css("zIndex",t)},_onRenderAlign:function(t){this._setPosition(t)},_onRenderVisible:function(t){this.element[t?"show":"hide"]()}});u.blurOverlays=[],s(document).on("mousedown",function(t){r(t)});var h,d=s(window).width(),f=s(window).height();u.allOverlays=[],s(window).resize(function(){var t=s(window).width(),e=s(window).height();(d!==t||f!==e)&&(h&&clearTimeout(h),h=setTimeout(function(){s(u.allOverlays).each(function(t,e){e&&e.get("visible")&&e._setPosition()})},80)),d=t,f=e}),i.exports=u}),define("dist/lib/util/dom/position",["$","../bom/browser"],function(t,e){function i(t){t=a(t)||{},t.nodeType&&(t={element:t});var e=a(t.element)||c;if(1!==e.nodeType)throw Error("posObject.element is invalid.");var i={element:e,x:t.x||0,y:t.y||0},n=e===c||"VIEWPORT"===e._id;return i.offset=function(){return d?{left:0,top:0}:n?{left:u(document).scrollLeft(),top:u(document).scrollTop()}:u(e).offset()},i.size=function(){var t=n?u(window):u(e);return{width:t.outerWidth(),height:t.outerHeight()}},i}function n(t){t.x=r(t.x,t,"width"),t.y=r(t.y,t,"height")}function r(t,e,i){if(t+="",t=t.replace(/px/gi,""),/\D/.test(t)&&(t=t.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==t.indexOf("%")&&(t=t.replace(/(\d+(?:\.\d+)?)%/gi,function(t,n){return e.size()[i]*(n/100)})),/[+\-*\/]/.test(t))try{t=Function("return "+t)()}catch(n){throw Error("Invalid position value: "+t)}return s(t)}function o(t){var e=t.offsetParent();e[0]===document.documentElement&&(e=u(document.body)),f&&e.css("zoom",1);var i=e[0]===document.body?{left:0,top:0}:e.offset();return i.top+=s(e.css("border-top-width")),i.left+=s(e.css("border-left-width")),i}function s(t){return parseFloat(t,10)||0}function a(t){return u(t)[0]}var l=e,c={_id:"VIEWPORT",nodeType:1},u=t("$"),h=t("../bom/browser"),d=!1,f=h.ie6;l.pin=function(t,e){t=i(t),e=i(e);var r=u(t.element);"fixed"!==r.css("position")||f?(r.css("position","absolute"),d=!1):d=!0,n(t),n(e);var s=o(r),a=e.offset(),l=a.top+e.y-t.y-s.top,c=a.left+e.x-t.x-s.left;r.css({left:c,top:l})},l.center=function(t,e){l.pin({element:t,x:"50%",y:"50%"},{element:e,x:"50%",y:"50%"})},l.VIEWPORT=c}),define("dist/lib/util/bom/browser",[],function(t,e,i){i.exports=function(){var t=!!window.ActiveXObject,e=!!window.devicePixelRatio;return{ie:t,ie6:t&&!window.XMLHttpRequest,ie7:t&&"7."===navigator.appVersion.match(/7./i),ie8:!!window.XDomainRequest,ie9:t&&1,firefox:!!document.getBoxObjectFor||"mozInnerScreenX"in window,opera:e&&!!window.opera,safari:"//"===/a/.__proto__,chrome:e&&!!window.chrome}}()}),define("dist/lib/util/dom/iframe-shim",["$","./position","../bom/browser"],function(t,e,i){function n(t){this.target=o(t).eq(0)}function r(t){var e={display:"none",border:"none",opacity:0,position:"absolute"},i=t.css("zIndex");return i&&i>0&&(e.zIndex=i-1),o("<iframe>",{src:"about:blank",frameborder:0,css:e}).insertBefore(t)}var o=t("$"),s=t("./position"),a=-1!==(window.navigator.userAgent||"").toLowerCase().indexOf("msie 6");if(n.prototype.sync=function(){var t=this.target,e=this.iframe;if(!t.length)return this;var i=t.outerHeight(),n=t.outerWidth();return i&&n&&!t.is(":hidden")?(e||(e=this.iframe=r(t)),e.css({height:i,width:n}),s.pin(e[0],t[0]),e.show()):e&&e.hide(),this},n.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),delete this.iframe),delete this.target},a)i.exports=n;else{var l=function(){};l.prototype.sync=function(){return this},l.prototype.destroy=l,i.exports=l}}),define("dist/lib/cmp/widget",["../util/base","../util/class","../util/event","../util/aspect","../util/attribute","$","./daparser","./auto-render"],function(t,e,i){function n(){return"widget-"+x++}function r(t){return"[object String]"===_.call(t)}function o(t){return"[object Function]"===_.call(t)}function s(t){return O(document.documentElement,t)}function a(t){return t.charAt(0).toUpperCase()+t.substring(1)}function l(t){return o(t.events)&&(t.events=t.events()),t.events}function c(t,e){var i=t.match(E),n=i[1]+v+e.cid,r=i[2]||void 0;return r&&r.indexOf("{{")>-1&&(r=u(r,e)),{type:n,selector:r}}function u(t,e){return t.replace(k,function(t,i){for(var n,o=i.split("."),s=e;n=o.shift();)s=s===e.attrs?e.get(n):s[n];return r(s)?s:T})}function h(t){return null==t||void 0===t}var d=t("../util/base"),f=t("$"),p=t("./daparser"),m=t("./auto-render"),v=".delegate-events-",g="_onRender",b="data-widget-cid",y={},w=d.extend({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:document.body},initialize:function(t){this.cid=n();var e=this._parseDataAttrsConfig(t);w.superclass.initialize.call(this,t?f.extend(e,t):e),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(t&&t.element)},_parseDataAttrsConfig:function(t){var e,i;return t&&(e=t.initElement?f(t.initElement):f(t.element)),e&&e[0]&&!m.isDataApiOff(e)&&(i=p.parseElement(e)),i},parseElement:function(){var t=this.element;if(t?this.element=f(t):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw Error("element is invalid")},parseElementFromTemplate:function(){this.element=f(this.get("template"))},initProps:function(){},delegateEvents:function(t,e,i){if(0===arguments.length?(e=l(this),t=this.element):1===arguments.length?(e=t,t=this.element):2===arguments.length?(i=e,e=t,t=this.element):(t||(t=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(f(t))),r(e)&&o(i)){var n={};n[e]=i,e=n}for(var s in e)if(e.hasOwnProperty(s)){var a=c(s,this),u=a.type,h=a.selector;(function(e,i){var n=function(t){return o(e)?e.call(i,t):i[e](t)};h?f(t).on(u,h,n):f(t).on(u,n)})(e[s],this)}return this},undelegateEvents:function(t,e){if(e||(e=t,t=null),0===arguments.length){var i=v+this.cid;if(this.element&&this.element.off(i),this._delegateElements)for(var n in this._delegateElements)this._delegateElements.hasOwnProperty(n)&&this._delegateElements[n].off(i)}else{var r=c(e,this);t?f(t).off(r.type,r.selector):this.element&&this.element.off(r.type,r.selector)}return this},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var t=this.get("parentNode");if(t&&!s(this.element[0])){var e=this.constructor.outerBoxClass;if(e){var i=this._outerBox=f("<div></div>").addClass(e);i.append(this.element).appendTo(t)}else this.element.appendTo(t)}return this},_renderAndBindAttrs:function(){var t=this,e=t.attrs;for(var i in e)if(e.hasOwnProperty(i)){var n=g+a(i);if(this[n]){var r=this.get(i);h(r)||this[n](r,void 0,i),function(e){t.on("change:"+i,function(i,n,r){t[e](i,n,r)})}(n)}}},_onRenderId:function(t){this.element.attr("id",t)},_onRenderClassName:function(t){this.element.addClass(t)},_onRenderStyle:function(t){this.element.css(t)},_stamp:function(){var t=this.cid;(this.initElement||this.element).attr(b,t),y[t]=this},$:function(t){return this.element.find(t)},destroy:function(){this.undelegateEvents(),delete y[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,w.superclass.destroy.call(this)}});f(window).unload(function(){for(var t in y)y[t].destroy()}),w.query=function(t){var e,i=f(t).eq(0);return i&&(e=i.attr(b)),y[e]},w.autoRender=m.autoRender,w.autoRenderAll=m.autoRenderAll,w.StaticsWhiteList=["autoRender"],i.exports=w;var _=Object.prototype.toString,x=0,O=f.contains||function(t,e){return!!(16&t.compareDocumentPosition(e))},E=/^(\S+)\s*(.*)$/,k=/{{([^}]+)}}/g,T="INVALID_SELECTOR"}),define("dist/lib/util/base",["./class","./event","./aspect","./attribute"],function(t,e,i){function n(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n="_onChange"+r(i);t[n]&&t.on("change:"+i,t[n])}}function r(t){return t.charAt(0).toUpperCase()+t.substring(1)}var o=t("./class"),s=t("./event"),a=t("./aspect"),l=t("./attribute"),c=o.create({Implements:[s,a,l],initialize:function(t){this.initAttrs(t),n(this,this.attrs)},destroy:function(){this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}}});i.exports=c}),define("dist/lib/util/class",[],function(t,e,i){function n(t){return this instanceof n||!h(t)?void 0:s(t)}function r(){}function o(t){var e,i;for(e in t)i=t[e],n.Mutators.hasOwnProperty(e)?n.Mutators[e].call(this,i):this.prototype[e]=i}function s(t){return t.extend=n.extend,t.implement=o,t}function a(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&-1===d(i,n))continue;"prototype"!==n&&(t[n]=e[n])}}i.exports=n,n.extend=function(t){return t||(t={}),t.Extends=this,n.create(t)},n.create=function(t,e){function i(){t.apply(this,arguments),this.constructor===i&&this.initialize&&this.initialize.apply(this,arguments)}return h(t)||(e=t,t=null),e||(e={}),t||(t=e.Extends||n),e.Extends=t,t!==n&&a(i,t,t.StaticsWhiteList),o.call(i,e),s(i)};var l=Object.__proto__?function(t){return{__proto__:t}}:function(t){return r.prototype=t,new r};n.Mutators={Extends:function(t){var e=this.prototype,i=l(t.prototype);a(i,e),i.constructor=this,this.prototype=i,this.superclass=t.prototype},Implements:function(t){u(t)||(t=[t]);for(var e,i=this.prototype;e=t.shift();)a(i,e.prototype||e)},Statics:function(t){a(this,t)}};var c=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===c.call(t)},h=function(t){return"[object Function]"===c.call(t)},d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}}),define("dist/lib/util/event",[],function(t,e,i){function n(){}function r(t,e,i,n){var r;if(t)for(var o=0,s=t.length;s>o;o+=2)r=t[o].apply(t[o+1]||i,e),r===!1&&n.status&&(n.status=!1)}var o=/\s+/;i.exports=n,n.prototype.on=function(t,e,i){var n,r,s;if(!e)return this;for(n=this.__events||(this.__events={}),t=t.split(o);r=t.shift();)s=n[r]||(n[r]=[]),s.push(e,i);return this},n.prototype.off=function(t,e,i){var n,r,a,l;if(!(n=this.__events))return this;if(!(t||e||i))return delete this.__events,this;for(t=t?t.split(o):s(n);r=t.shift();)if(a=n[r])if(e||i)for(l=a.length-2;l>=0;l-=2)e&&a[l]!==e||i&&a[l+1]!==i||a.splice(l,2);else delete n[r];return this},n.prototype.trigger=function(t){var e,i,n,s,a,l,c=[],u={status:!0};if(!(e=this.__events))return this;for(t=t.split(o),a=1,l=arguments.length;l>a;a++)c[a-1]=arguments[a];for(;i=t.shift();)(n=e.all)&&(n=n.slice()),(s=e[i])&&(s=s.slice()),r(s,c,this,u),r(n,[i].concat(c),this,u);return u.status},n.mixTo=function(t){t=t.prototype||t;var e=n.prototype;for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};var s=Object.keys;s||(s=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e})}),define("dist/lib/util/aspect",[],function(t,e,i){function n(t,e,i,n){for(var s,l,c=e.split(a);s=c.shift();)l=r(this,s),l.__isAspected||o.call(this,s),this.on(t+":"+s,i,n);return this}function r(t,e){var i=t[e];if(!i)throw Error("Invalid method name: "+e);return i}function o(t){var e=this[t];this[t]=function(){var i=Array.prototype.slice.call(arguments),n=["before:"+t].concat(i);if(this.trigger.apply(this,n)!==!1){var r=e.apply(this,arguments),o=["after:"+t,r].concat(i);return this.trigger.apply(this,o),r}},this[t].__isAspected=!0}var s={before:function(t,e,i){return n.call(this,"before",t,e,i)},after:function(t,e,i){return n.call(this,"after",t,e,i)}};i.exports=s;var a=/\s+/}),define("dist/lib/util/attribute",[],function(t,e,i){function n(t){return"[object String]"===w.call(t)}function r(t){return"[object Function]"===w.call(t)}function o(t){return null!==t&&t===t.window}function s(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||o(t))return!1;try{if(t.constructor&&!_.call(t,"constructor")&&!_.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;if(y)for(i in t)return _.call(t,i);for(i in t);return void 0===i||_.call(t,i)}function a(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||o(t)||!t.hasOwnProperty)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function l(t,e){var i,n;for(i in e)if(e.hasOwnProperty(i)){if(n=e[i],x(n))n=n.slice();else if(s(n)){var r=t[i];s(r)||(r={}),n=l(r,n)}t[i]=n}return t}function c(t,e,i){for(var n=[],r=e.constructor.prototype;r;)r.hasOwnProperty("attrs")||(r.attrs={}),h(i,r.attrs,r),a(r.attrs)||n.unshift(r.attrs),r=r.constructor.superclass;for(var o=0,s=n.length;s>o;o++)l(t,m(n[o]))}function u(t,e){l(t,m(e,!0))}function h(t,e,i,n){for(var r=0,o=t.length;o>r;r++){var s=t[r];i.hasOwnProperty(s)&&(e[s]=n?e.get(s):i[s])}}function d(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n,o=e[i].value;r(o)&&(n=i.match(E))&&(t[n[1]](f(n[2]),o),delete e[i])}}function f(t){var e=t.match(k),i=e[1]?"change:":"";return i+=e[2].toLowerCase()+e[3]}function p(t,e,i){var n={silent:!0};t.__initializingAttrs=!0;for(var r in i)i.hasOwnProperty(r)&&e[r].setter&&t.set(r,i[r],n);delete t.__initializingAttrs}function m(t,e){var i={};for(var n in t){var r=t[n];i[n]=!e&&s(r)&&v(r,T)?r:{value:r}}return i}function v(t,e){for(var i=0,n=e.length;n>i;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}function g(t){return null===t||(n(t)||x(t))&&0===t.length||a(t)}function b(t,e){if(t===e)return!0;if(g(t)&&g(e))return!0;var i=w.call(t);if(i!==w.call(e))return!1;switch(i){case"[object String]":return t===e+"";case"[object Number]":return t!==+t?e!==+e:0===t?1/t===1/e:t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object RegExp]":return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.ignoreCase===e.ignoreCase;case"[object Array]":var n=""+t,r=""+e;return-1===n.indexOf("[object")&&-1===r.indexOf("[object")&&n===r}if("object"!=typeof t||"object"!=typeof e)return!1;if(s(t)&&s(e)){if(!b(O(t),O(e)))return!1;for(var o in t)if(t[o]!==e[o])return!1;return!0}return!1}var y,w=Object.prototype.toString,_=Object.prototype.hasOwnProperty;(function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var i in new t)e.push(i);y="x"!==e[0]})();var x=Array.isArray||function(t){return"[object Array]"===w.call(t)},O=Object.keys;O||(O=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e});var E=/^(on|before|after)([A-Z].*)$/,k=/^(Change)?([A-Z])(.*)/,T=["value","getter","setter","readOnly"],A={initAttrs:function(t){var e=this.attrs={},i=this.propsInAttrs||[];c(e,this,i),t&&u(e,t),p(this,e,t),d(this,e),h(i,this,e,!0)},get:function(t){var e=this.attrs[t]||{},i=e.value;return e.getter?e.getter.call(this,i,t):i},set:function(t,e,i){var r={};n(t)?r[t]=e:(r=t,i=e),i||(i={});var o=i.silent,a=i.override,c=this.attrs,u=this.__changedAttrs||(this.__changedAttrs={});for(t in r)if(r.hasOwnProperty(t)){var h=c[t]||(c[t]={});if(e=r[t],h.readOnly)throw Error("This attribute is readOnly: "+t);h.setter&&(e=h.setter.call(this,e,t));var d=this.get(t);!a&&s(d)&&s(e)&&(e=l(l({},d),e)),c[t].value=e,this.__initializingAttrs||b(d,e)||(o?u[t]=[e,d]:this.trigger("change:"+t,e,d,t))}return this},change:function(){var t=this.__changedAttrs;if(t){for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];this.trigger("change:"+e,i[0],i[1],e)}delete this.__changedAttrs}return this},_isPlainObject:s};i.exports=A}),define("dist/lib/cmp/daparser",["$"],function(t,e){function i(t){return t.toLowerCase().replace(s,function(t,e){return(e+"").toUpperCase()})}function n(t){for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];if("string"!=typeof i)continue;a.test(i)?(i=i.replace(/'/g,'"'),t[e]=n(l(i))):t[e]=r(i)}return t}function r(t){if("false"===t.toLowerCase())t=!1;else if("true"===t.toLowerCase())t=!0;else if(/\d/.test(t)&&/[^a-z]/i.test(t)){var e=parseFloat(t);e+""===t&&(t=e)}return t}var o=t("$");e.parseElement=function(t,e){t=o(t)[0];var r={};if(t.dataset)r=o.extend({},t.dataset);else for(var s=t.attributes,a=0,l=s.length;l>a;a++){var c=s[a],u=c.name;0===u.indexOf("data-")&&(u=i(u.substring(5)),r[u]=c.value)}return e===!0?r:n(r)};var s=/-([a-z])/g,a=/^\s*[\[{].*[\]}]\s*$/,l=this.JSON?JSON.parse:o.parseJSON}),define("dist/lib/cmp/auto-render",["$"],function(t,e){var i=t("$"),n="data-widget-auto-rendered";e.autoRender=function(t){return new this(t).render()},e.autoRenderAll=function(t,r){"function"==typeof t&&(r=t,t=null),t=i(t||document.body);var o=[],s=[];t.find("[data-widget]").each(function(t,i){e.isDataApiOff(i)||(o.push(i.getAttribute("data-widget").toLowerCase()),s.push(i))}),o.length&&seajs.use(o,function(){for(var t=0;arguments.length>t;t++){var e=arguments[t],o=i(s[t]);if(!o.attr(n)){var a={initElement:o,renderType:"auto"},l=o.attr("data-widget-role");a[l?l:"element"]=o,e.autoRender&&e.autoRender(a),o.attr(n,"true")}}r&&r()})};var r="off"===i(document.body).attr("data-api");e.isDataApiOff=function(t){var e=i(t).attr("data-api");return"off"===e||"on"!==e&&r}}),define("dist/lib/cmp/mask",["$","./overlay","../util/dom/position","../util/bom/browser","../util/dom/iframe-shim","./widget","../util/base","../util/class","../util/event","../util/aspect","../util/attribute","./daparser","./auto-render"],function(t,e,i){var n=t("$"),r=t("./overlay"),o=(window.navigator.userAgent||"").toLowerCase(),s=-1!==o.indexOf("msie 6"),a=n(document.body),l=n(document),c=[];window.ddddd=c;var u=r.extend({attrs:{width:s?l.outerWidth(!0):"100%",height:s?l.outerHeight(!0):"100%",className:"dialog-mask",opacity:.2,backgroundColor:"#000",style:{position:s?"absolute":"fixed",top:0,left:0},align:{baseElement:s?a:void 0}},show:function(){return s&&(this.set("width",l.outerWidth(!0)),this.set("height",l.outerHeight(!0))),u.superclass.show.call(this)},setup:function(){this._setupShim(),this.before("show",function(){c.push(this.get("zIndex"))})},hide:function(){return c.pop(),c.length>0?(this.set("zIndex",c[c.length-1]),this):u.superclass.hide.call(this)},_onRenderBackgroundColor:function(t){this.element.css("backgroundColor",t)},_onRenderOpacity:function(t){this.element.css("opacity",t)}});i.exports=new u}),define("dist/lib/util/dom/sticky",["$"],function(t,e,i){function n(t,e,i){return new s({element:t,marginTop:e||0,callback:i}).render()}function r(){return!f}function o(){if(d)return!1;var t=l[0].body;if(l[0].createElement&&t&&t.appendChild&&t.removeChild){var e,i=l[0].createElement("div"),n=function(t){return window.getComputedStyle?window.getComputedStyle(i).getPropertyValue(t):i.currentStyle.getAttribute(t)};t.appendChild(i);for(var r=0;c.length>r&&(i.style.cssText="position:"+c[r]+"sticky;visibility:hidden;",!(e=-1!==n("position").indexOf("sticky")));r++);return i.parentNode.removeChild(i),e}}function s(t){this.options=t||{},this.elem=a(this.options.element),this.callback=t.callback||function(){},this.marginTop=t.marginTop||0,this._stickyId=u++}var a=t("$"),l=a(document),c=["-webkit-","-ms-","-o-","-moz-",""],u=0,h=(window.navigator.userAgent||"").toLowerCase(),d=-1!==h.indexOf("msie"),f=-1!==h.indexOf("msie 6"),p=o(),m=r();n.stick=n,n.fix=function(t){return new s({element:t,marginTop:Number.MAX_VALUE}).render()},n.isPositionStickySupported=p,n.isPositionFixedSupported=m,s.prototype.render=function(){var t,e=this;if(this.elem.length&&!this.elem.data("bind-sticked")){this._originTop=this.elem.offset().top,this.marginTop===Number.MAX_VALUE&&(t=!0,this.marginTop=this._originTop),this._originStyles={position:null,top:null,left:null};for(var i in this._originStyles)this._originStyles.hasOwnProperty(i)&&(this._originStyles[i]=this.elem.css(i));var r;if(n.isPositionStickySupported&&!t){r=this._supportSticky;for(var o="",s=0;c.length>s;s++)o+="position:"+c[s]+"sticky;";this.elem[0].style.cssText+=o+"top: "+this.marginTop+"px;"}else n.isPositionFixedSupported?r=this._supportFixed:(r=this._supportAbsolute,a('<style type="text/css"> * html{ background:url(null) no-repeat fixed; } </style>').appendTo("head"));return r.call(this),a(window).on("scroll."+this._stickyId,function(){e.elem.is(":visible")&&r.call(e)}),this.elem.data("bind-sticked",!0),this}},s.prototype._supportFixed=function(){var t=this._originTop-l.scrollTop();!this.elem.data("sticked")&&this.marginTop>=t?(this._addPlaceholder(),this.elem.css({position:"fixed",top:this.marginTop,left:this.elem.offset().left}),this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&t>this.marginTop&&this._restore()},s.prototype._supportAbsolute=function(){var t=this._originTop-l.scrollTop();this.marginTop>=t?(this.elem.data("sticked")||(this._addPlaceholder(),this.elem.data("sticked",!0),this.callback.call(this,!0)),this.elem.css({position:"absolute",top:this.marginTop+l.scrollTop()})):this.elem.data("sticked")&&t>this.marginTop&&this._restore()},s.prototype._supportSticky=function(){var t=this._originTop-l.scrollTop();!this.elem.data("sticked")&&this.marginTop>=t?(this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&t>this.marginTop&&this.callback.call(this,!1)},s.prototype._restore=function(){this._removePlaceholder(),this.elem.css(this._originStyles),this.elem.data("sticked",!1),this.callback.call(this,!1)},s.prototype._addPlaceholder=function(){var t=!1,e=this.elem.css("position");("static"===e||"relative"===e)&&(t=!0),"block"!==this.elem.css("display")&&(t=!1),t&&(this._placeholder=a('<div style="visibility:hidden;margin:0;padding:0;"></div>'),this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float",this.elem.css("float")).insertAfter(this.elem))},s.prototype._removePlaceholder=function(){this._placeholder&&this._placeholder.remove()},s.prototype.destroy=function(){this._restore(),this.elem.data("bind-sticked",!1),a(window).off("scroll."+this._stickyId)},i.exports=n}),define("dist/lib/util/dom/scroll",["$","./wheel","../bom/browser"],function(t,e,i){var n=t("$"),r=t("./wheel"),o={detect:function(t){var e,i,r;return t===window||t===document?(i=n(document).scrollTop(),t=document.documentElement):i=t.scrollTop,r=Math.ceil(t.clientHeight),0===i?e=t.scrollHeight>Math.ceil(r)?"top":"noscroll":i+Math.ceil(r)>=t.scrollHeight&&(e="bottom"),e}},s={to:function(t,e){(t===window||t===document||t===document.body)&&(t=document.documentElement),t=t[0]||t,"top"===e?e=0:"bottom"===e&&(e=t.scrollHeight),t.scrollTop=e},prevent:function(t,e){t=t[0]||t,r(t,function(i,n,r,s){var a=o.detect(t);("ie"===s||"noscroll"===a||"top"===a&&"up"===n||"bottom"===a&&"down"===n)&&(r(),e&&e.call(t,i,a))})},listen:function(t,e,i){var r={},a=n(t).scrollTop(),l=function(i,s){if(s){var a=o.detect(t),l=n(t).scrollTop();r.bottom=(t===document?document.body:t).scrollHeight-parseFloat(t===document?document.documentElement.clientHeight:t.clientHeight),a&&(e.top&&"top"===a&&"up"===s&&e.top(i,l,s,r),e.bottom&&"bottom"===a&&"down"===s&&e.bottom(i,l,s,r)),e.other&&e.other(i,l,s,r)
}};t=t[0]||t,t=t===document||t===document.body?window:t,n(t).scroll(function(e){var i=n(t).scrollTop(),r=i>a?"down":a>i?"up":"";a=i,r&&l(e.originalEvent,r)}),t!==window&&i!==!1&&s.prevent(t)}};i.exports=s}),define("dist/lib/util/dom/wheel",["../bom/browser"],function(t,e,i){var n=t("../bom/browser");i.exports=function(t,e){t=t[0]||t,n.ie?t.attachEvent("onmousewheel",function(i){i=window.event;var n=function(){t.scrollTop+=i.wheelDelta>0?-60:60,i.returnValue=!1};e&&e.call(t,i,i.wheelDelta>0?"up":"down",n,"ie")}):n.firefox?t.addEventListener("DOMMouseScroll",function(i){e&&e.call(t,i,0>i.detail?"up":i.detail>0?"down":"",function(){i.preventDefault()},"firefox")},!1):t.addEventListener("mousewheel",function(i){e&&e.call(t,i,i.wheelDelta>=0?"up":0>=i.wheelDelta?"down":"",function(){i.returnValue=!1},"standard")},!1)}}),define("dist/lib/cmp/dialog/tpl/dialog",[],function(){return{render:function(t){var e=[],i=[];for(var n in t)e.push(n),i.push(t[n]);return Function(e,'var _s=[];_s.push(\' <div class="widget-dialog"> <a href="#" data-action="close" data-role="close" title="关闭" class="dialog-close">×</a> <div class="header"> <div class="title" data-role="title"></div> </div> <div class="main"> <div class="content" data-role="content"></div> </div> <div class="footer"> <div class="buttons" data-role="buttons"></div> </div> </div>\'); return _s;').apply(null,i).join("")}}}),define("dist/lib/cmp/dialog/tpl/button",[],function(){return{render:function(t){var e=[],i=[];for(var n in t)e.push(n),i.push(t[n]);return Function(e,"var _s=[];_s.push(' <input type=\"button\" value=\"',text,'\" class=\"',className,'\" data-action=\"',action,'\"/>'); return _s;").apply(null,i).join("")}}});